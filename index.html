<!DOCTYPE html PUBLIC "-//W3C//  DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
		<title>Slideshow Demo</title>
		<script src="jquery.js" type="text/javascript"></script>
		<script src="jquery.timer.js" type="text/javascript"></script>
		<script type="application/javascript">
			function SlideshowImage(src, caption) {
				this.src = src;
				this.caption = caption;
			}
			var images = [];
			function load() {
				$.ajax({
					type: "GET",
					url: "slideshow.xml",
					dataType: "xml",
					async: false,
					success: function(xml) {
						$(xml).find('slideshow > image').each(function(){
							//var id_text = $(this).attr('id')
							var src_text = $(this).find('src').text()
							var number_text = $(this).find('number').text()
							var caption_text = $(this).find('caption').text()
							//$('<li></li>').html(name_text + ' (' + id_text + ')').appendTo('#update-target ol');
							//alert(src_text + "::" + number_text + "::" + caption_text);
							images.push(new SlideshowImage(src_text, caption_text));
						}); // each(
						alert("In: " + images.toString() + "::" + images.length);
					}
				}); // $.ajax(
			}
			alert("Pre: " + images.toString() + "::" + images.length);
			load();
			alert("Post: " + images.toString() + "::" + images.length);
		</script>
	</head>
	<body>
		<div id="slideshow_target">
		</div>
		<div id="slideshow_start">
			<a href="#">Click here to load addresses</a>
		</div>
	</body>
</html>
